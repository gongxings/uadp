webpackJsonp([2],{0:function(e,t,l){e.exports=l(329)},112:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){d.request.post("upm/login/main.do",function(t){e.setState({userInfo:t})})}function a(e){f({title:"\u786e\u5b9a\u9000\u51fa\u7cfb\u7edf\u5417\uff1f",onOk:function(){d.request.post("upm/login/logout.do",function(e){location.href="login.html"})},onCancel:function(){}})}function r(e,t){console.log("\u4fee\u6539\u5bc6\u7801"),d.request.post("upm/login/modifyPassword.do",e,function(e){t(e)})}function i(e){d.request.post("upm/login/needModifyPassword.do",function(t){1==t&&(u.default.info({title:"\u5bc6\u7801\u4fee\u6539\u63d0\u793a",content:"\u60a8\u9996\u6b21\u767b\u5f55\u7cfb\u7edf\uff0c\u5fc5\u987b\u4fee\u6539\u521d\u59cb\u5bc6\u7801\uff01",onOk:function(){e.setState({isForceModifyPassword:!0,modifyPwVisible:!0})}}),e.setState({isForceModifyPassword:!0})),2==t&&(u.default.info({title:"\u5bc6\u7801\u4fee\u6539\u63d0\u793a",content:"\u60a8\u7684\u767b\u5f55\u5bc6\u7801\u5df2\u7ecf\u8d85\u8fc73\u4e2a\u6708\u6ca1\u6709\u4fee\u6539\uff01",onOk:function(){e.setState({isForceModifyPassword:!0,modifyPwVisible:!0})}}),e.setState({isForceModifyPassword:!0}))})}Object.defineProperty(t,"__esModule",{value:!0});var s=(l(22),l(21)),u=n(s);t.queryUserCfg=o,t.logout=a,t.modifyPassword=r,t.needtModifyPassword=i;var d=l(15),f=u.default.confirm},260:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=l(2),a=n(o),r=l(11),i=n(r),s=l(3),u=n(s),d=l(6),f=n(d),c=l(5),p=n(c),h=l(4),m=n(h),y=l(1),g=n(y),v=l(8),w=n(v),b=l(57),E=n(b),P=l(19),_=n(P),M=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(l[n[o]]=e[n[o]]);return l};if("undefined"!=typeof window){var O=function(e){return{media:e,matches:!1,addListener:function(){},removeListener:function(){}}};window.matchMedia=window.matchMedia||O}var C={xs:"480px",sm:"768px",md:"992px",lg:"1200px",xl:"1600px"},k=function(e){function t(e){(0,u.default)(this,t);var l=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));l.responsiveHandler=function(e){l.setState({below:e.matches}),l.state.collapsed!==e.matches&&l.setCollapsed(e.matches,"responsive")},l.setCollapsed=function(e,t){"collapsed"in l.props||l.setState({collapsed:e});var n=l.props.onCollapse;n&&n(e,t)},l.toggle=function(){var e=!l.state.collapsed;l.setCollapsed(e,"clickTrigger")},l.belowShowChange=function(){l.setState({belowShow:!l.state.belowShow})};var n=void 0;"undefined"!=typeof window&&(n=window.matchMedia),n&&e.breakpoint&&e.breakpoint in C&&(l.mql=n("(max-width: "+C[e.breakpoint]+")"));var o=void 0;return o="collapsed"in e?e.collapsed:e.defaultCollapsed,l.state={collapsed:o,below:!1},l}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){"collapsed"in e&&this.setState({collapsed:e.collapsed})}},{key:"componentDidMount",value:function(){this.mql&&(this.mql.addListener(this.responsiveHandler),this.responsiveHandler(this.mql))}},{key:"componentWillUnmount",value:function(){this.mql&&this.mql.removeListener(this.responsiveHandler)}},{key:"render",value:function(){var e,t=this.props,l=t.prefixCls,n=t.className,o=t.collapsible,r=t.reverseArrow,s=t.trigger,u=t.style,d=t.width,f=t.collapsedWidth,c=M(t,["prefixCls","className","collapsible","reverseArrow","trigger","style","width","collapsedWidth"]),p=(0,E.default)(c,["collapsed","defaultCollapsed","onCollapse","breakpoint"]),h=this.state.collapsed?f:d,m=0===f||"0"===f?g.default.createElement("span",{onClick:this.toggle,className:l+"-zero-width-trigger"},g.default.createElement(_.default,{type:"bars"})):null,y={expanded:r?g.default.createElement(_.default,{type:"right"}):g.default.createElement(_.default,{type:"left"}),collapsed:r?g.default.createElement(_.default,{type:"left"}):g.default.createElement(_.default,{type:"right"})},v=this.state.collapsed?"collapsed":"expanded",b=y[v],P=null!==s?m||g.default.createElement("div",{className:l+"-trigger",onClick:this.toggle},s||b):null,O=Object.assign({},u,{flex:"0 0 "+h+"px",width:h+"px"}),C=(0,w.default)(n,l,(e={},(0,i.default)(e,l+"-collapsed",!!this.state.collapsed),(0,i.default)(e,l+"-has-trigger",!!s),(0,i.default)(e,l+"-below",!!this.state.below),(0,i.default)(e,l+"-zero-width",0===h||"0"===h),e));return g.default.createElement("div",(0,a.default)({className:C},p,{style:O}),g.default.createElement("div",{className:l+"-children"},this.props.children),o||this.state.below&&m?P:null)}}]),t}(g.default.Component);t.default=k,k.__ANT_LAYOUT_SIDER=!0,k.defaultProps={prefixCls:"ant-layout-sider",collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:64,style:{}},e.exports=t.default},261:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=l(262),a=n(o),r=l(260),i=n(r);a.default.Sider=i.default,t.default=a.default,e.exports=t.default},262:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){return function(l){function n(){return(0,d.default)(this,n),(0,h.default)(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return(0,y.default)(n,l),(0,c.default)(n,[{key:"render",value:function(){var l=e.prefixCls;return v.default.createElement(t,(0,s.default)({prefixCls:l},this.props))}}]),n}(v.default.Component)}}Object.defineProperty(t,"__esModule",{value:!0});var a=l(11),r=n(a),i=l(2),s=n(i),u=l(3),d=n(u),f=l(6),c=n(f),p=l(5),h=n(p),m=l(4),y=n(m),g=l(1),v=n(g),w=l(8),b=n(w),E=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(l[n[o]]=e[n[o]]);return l},P=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,l=e.className,n=e.children,o=E(e,["prefixCls","className","children"]),a=void 0;v.default.Children.forEach(n,function(e){e&&e.type&&e.type.__ANT_LAYOUT_SIDER&&(a=!0)});var i=(0,b.default)(l,t,(0,r.default)({},t+"-has-sider",a));return v.default.createElement("div",(0,s.default)({className:i},o),n)}}]),t}(v.default.Component),_=o({prefixCls:"ant-layout"})(P),M=o({prefixCls:"ant-layout-header"})(P),O=o({prefixCls:"ant-layout-footer"})(P),C=o({prefixCls:"ant-layout-content"})(P);_.Header=M,_.Footer=O,_.Content=C,t.default=_,e.exports=t.default},263:[669,429],264:[669,430],328:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(l(22),l(21)),a=n(o),r=(l(82),l(81)),i=n(r),s=(l(80),l(79)),u=n(s),d=l(2),f=n(d),c=(l(20),l(26)),p=n(c),h=(l(32),l(29)),m=n(h),y=l(3),g=n(y),v=l(5),w=n(v),b=l(4),E=n(b),P=(l(36),l(35)),_=n(P),M=l(1),O=n(M),C=l(112),k=_.default.create,x=_.default.Item,S=function(e){function t(l){(0,g.default)(this,t);var n=(0,w.default)(this,e.call(this,l));return n.state={},n}return(0,E.default)(t,e),t.prototype.componentWillUnmount=function(){this.props.form.resetFields()},t.prototype.checkOldPass=function(e,t,l){t?/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,20}$/.test(t)?l():l([new Error("\u5bc6\u7801\u5fc5\u987b\u75318-20\u4f4d\u6570\u5b57\u548c\u5b57\u6bcd\u7ec4\u6210")]):l([new Error("\u8bf7\u8f93\u5165\u539f\u59cb\u5bc6\u7801")])},t.prototype.checkNewPass=function(e,t,l){t?/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,20}$/.test(t)?l():l([new Error("\u5bc6\u7801\u5fc5\u987b\u75318-20\u4f4d\u6570\u5b57\u548c\u5b57\u6bcd\u7ec4\u6210")]):l([new Error("\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801")])},t.prototype.checkRePass=function(e,t,l){if(t){var n=this.props.form.getFieldValue;/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,20}$/.test(t)?t&&t!==n("newPassword")?l([new Error("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4")]):l():l([new Error("\u5bc6\u7801\u5fc5\u987b\u75318-20\u4f4d\u6570\u5b57\u548c\u5b57\u6bcd\u7ec4\u6210")])}else l([new Error("\u8bf7\u8f93\u5165\u786e\u8ba4\u5bc6\u7801")])},t.prototype.handModifyPwOk=function(){var e=this,t=this.props.form.getFieldsValue();this.props.form.validateFieldsAndScroll(function(l,n){if(console.log("\u9519\u8bef\uff1a"+l),null==l)return void(0,C.modifyPassword)(t,function(t){t.success?(m.default.success("\u5bc6\u7801\u4fee\u6539\u6210\u529f\uff01"),e.props.form.resetFields(),e.props.modifyPwOk()):m.default.success(t.message)})})},t.prototype.handModifyPwCancel=function(){this.props.form.resetFields(),this.props.modifyPwCancel()},t.prototype.render=function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return O.default.createElement(a.default,{title:"\u4fee\u6539\u5bc6\u7801",visible:this.props.visible,onOk:this.handModifyPwOk.bind(this),onCancel:this.handModifyPwCancel.bind(this)},O.default.createElement(i.default,null,O.default.createElement(u.default,null,O.default.createElement("div",{className:"pwd_right"},O.default.createElement(_.default,{horizontal:!0,form:this.props.form},O.default.createElement(x,(0,f.default)({label:"\u539f\u59cb\u5bc6\u7801\uff1a"},t),e("oldPassword",{rules:[{validator:this.checkOldPass.bind(this)}]})(O.default.createElement(p.default,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u539f\u59cb\u5bc6\u7801"}))),O.default.createElement(x,(0,f.default)({label:"\u65b0\xa0\xa0\u5bc6\xa0\xa0\u7801\uff1a"},t),e("newPassword",{rules:[{validator:this.checkNewPass.bind(this)}]})(O.default.createElement(p.default,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801\uff08\u81f3\u5c118\u4f4d\uff09"}))),O.default.createElement(x,(0,f.default)({label:"\u786e\u8ba4\u5bc6\u7801\uff1a"},t),e("rePassword",{rules:[{validator:this.checkRePass.bind(this)}]})(O.default.createElement(p.default,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u786e\u8ba4\u5bc6\u7801"}))))))))},t}(M.Component);S=k()(S),t.default=S,e.exports=t.default},329:function(e,t,l){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(3),r=o(a),i=l(5),s=o(i),u=l(4),d=o(u),f=l(1),c=o(f),p=l(12),h=l(112),m=n(h),y=l(330),g=o(y);l(49);var v=function(e){function t(l){(0,r.default)(this,t);var n=(0,s.default)(this,e.call(this,l));return n.state={userInfo:{menu:[]}},n}return(0,d.default)(t,e),t.prototype.componentDidMount=function(){m.queryUserCfg(this)},t.prototype.render=function(){var e=this.state.userInfo;if("window"!=e.layout)return c.default.createElement(g.default,{userInfo:e})},t}(f.Component);t.default=v,(0,p.render)(c.default.createElement(v,null),document.getElementById("root")),e.exports=t.default},330:function(e,t,l){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(l(85),l(84)),r=o(a),i=(l(52),l(19)),s=o(i),u=(l(32),l(29)),d=o(u),f=l(3),c=o(f),p=l(5),h=o(p),m=l(4),y=o(m),g=(l(263),l(261)),v=o(g),w=(l(264),l(179)),b=o(w),E=l(1),P=o(E),_=(l(12),l(331)),M=o(_),O=l(328),C=o(O),k=l(112),x=n(k);l(444);var S=b.default.SubMenu,T=v.default.Header,I=(v.default.Footer,v.default.Sider),j=v.default.Content,N=function(e){function t(l){(0,c.default)(this,t);var n=(0,h.default)(this,e.call(this,l));return n.toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.state={collapsed:!1,src:"",mode:"inline",moduleTree:[],isTopMenu:!0,defaultOpenKeys:[],defaultSelectedKeys:[],autoRunModules:[],modifyPwVisible:!1,isForceModifyPassword:!1},n}return(0,y.default)(t,e),t.prototype.componentWillMount=function(){x.needtModifyPassword(this)},t.prototype.handleMenuClick=function(e){for(var t=void 0,l=this.props.userInfo.menu,n=0;n<l.length;n++)if(l[n].id==e.key){if(t=l[n].children,null==t){if(""==l[n].url)return void d.default.success(l[n].name+"\u529f\u80fd\u672a\u5f00\u901a!",3);this.setState({src:l[n].url,collapsed:!0})}break}this.setState({moduleTree:t,collapsed:!1})},t.prototype.modifyPwOk=function(){this.setState({modifyPwVisible:!1,isForceModifyPassword:!1})},t.prototype.modifyPwCancel=function(){this.state.isForceModifyPassword?d.default.error("\u5f3a\u5236\u4fee\u6539\u5bc6\u7801\uff0c\u4e0d\u80fd\u53d6\u6d88\uff01"):this.setState({modifyPwVisible:!1})},t.prototype.handleModuleClick=function(e,t,l){var n,o=function t(l){for(var o=0;o<l.length;o++)l[o].id==e.key&&(n=l[o]),null!=l[o].children&&t(l[o].children)},a=this.props.userInfo.menu;if(o(a),""==n.url)return void d.default.success(n.name+"\u529f\u80fd\u672a\u5f00\u901a!",3);var r="";r=n.url.indexOf("?")==-1?n.url+"?"+Math.random():n.url+"&"+Math.random(),this.setState({src:r})},t.prototype.componentWillReceiveProps=function(e){if(null!=e.userInfo.menu&&e.userInfo.menu.length>0)if("true"==e.userInfo.isTopMenu){if(e.userInfo.menu&&e.userInfo.menu.length>0)for(var t=0;t<e.userInfo.menu.length;t++)1==e.userInfo.menu[t].isAutorun&&this.state.autoRunModules.push(e.userInfo.menu[t]);this.setState({isTopMenu:!0,moduleTree:e.userInfo.menu[0].children})}else this.setState({isTopMenu:!1,moduleTree:e.userInfo.menu})},t.prototype.render=function(){var e=this,t=this.props.userInfo,l=this,n=function e(t){return null==t?void(l.state.collapsed=!0):t.map(function(t){return t.children&&t.children.length>0?(0==l.state.defaultOpenKeys.length&&l.state.defaultOpenKeys.push(t.id+""),P.default.createElement(S,{key:t.id,className:"leftMenu-background-color",title:P.default.createElement("span",null,""==t.icon?"":P.default.createElement(s.default,{type:t.icon}),t.name)},e(t.children))):(1==t.isAutorun&&l.state.autoRunModules.push(t),P.default.createElement(b.default.Item,{className:"leftMenu-background-color",key:t.id},P.default.createElement("span",null,""==t.icon?"":P.default.createElement(s.default,{type:t.icon}),t.name)))})},o=n(this.state.moduleTree);return""==this.state.src&&this.state.autoRunModules.length>0&&(this.state.src=this.state.autoRunModules[0].url),P.default.createElement(v.default,{className:"tabRoot"},P.default.createElement(T,{style:{height:60,paddingLeft:10,paddingRight:15,background:"url(upm/main/tab/img/nav.png) repeat-x right top"}},P.default.createElement("div",{style:{float:"left",marginRight:5,background:"url(upm/main/tab/img/nav_title.png) top center no-repeat"}}," ",P.default.createElement("img",{src:"upm/main/tab/img/nav_title.png"})),P.default.createElement(s.default,{style:{cursor:"pointer",float:"left",marginTop:28,color:"white",fontSize:14},type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),P.default.createElement("div",{style:{color:"white",float:"right",paddingTop:5,paddingRight:15,height:57,lineHeight:"57px"}},P.default.createElement("span",{style:{marginRight:5}},null==t.userName?"":t.userName),P.default.createElement(r.default,{title:"\u4fee\u6539\u5bc6\u7801"},P.default.createElement("a",{href:"#",onClick:function(){return e.setState({modifyPwVisible:!0})}},P.default.createElement(s.default,{type:"setting",style:{marginLeft:2,fontSize:18,color:"white",verticalAlign:"middle",marginBottom:3,marginRight:3}}))),P.default.createElement(r.default,{title:"\u9000\u51fa\u7cfb\u7edf"},P.default.createElement("a",{href:"#",onClick:x.logout.bind(this)},P.default.createElement(s.default,{type:"logout",style:{fontSize:18,marginLeft:2,color:"white",verticalAlign:"middle",marginBottom:3}}))),P.default.createElement(C.default,{visible:this.state.modifyPwVisible,modifyPwOk:this.modifyPwOk.bind(this),modifyPwCancel:this.modifyPwCancel.bind(this)})),P.default.createElement("div",{style:{float:"right",marginTop:10}},P.default.createElement(s.default,{type:"user",className:"img"})),1==this.state.isTopMenu?P.default.createElement(b.default,{onClick:this.handleMenuClick.bind(this),style:{marginTop:10,marginRight:20,float:"right",border:0,background:"none"},selectedKeys:[this.state.current],mode:"horizontal"},t.menu.map(function(e,t){return P.default.createElement(b.default.Item,{key:e.id,style:{fontSize:"14px",color:"white"}},P.default.createElement("span",null,""==e.icon?"":P.default.createElement(s.default,{type:e.icon}),e.name))})):""),P.default.createElement(v.default,null,P.default.createElement(I,{collapsible:!0,trigger:null,collapsedWidth:0,collapsed:this.state.collapsed,className:"overflow leftMenu-background-color",style:{width:210,borderRightWidth:2,borderRight:"1px solid #bfbfbf"}},P.default.createElement(b.default,{onClick:this.handleModuleClick.bind(this),style:{width:210,backgroundColor:"#e9e9e9"},defaultOpenKeys:this.state.defaultOpenKeys,defaultSelectedKeys:this.state.defaultSelectedKeys,mode:this.state.mode},o)),P.default.createElement(j,{style:{overflow:"hidden"}},P.default.createElement(M.default,{src:this.state.src}))))},t}(E.Component);t.default=N,e.exports=t.default},331:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,r=l(3),i=n(r),s=l(5),u=n(s),d=l(4),f=n(d),c=l(1),p=n(c),h=l(332),m=n(h),y=l(12),g=(n(y),a=o=function(e){function t(){return(0,i.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.render=function(){return""==this.props.src?p.default.createElement(m.default,null):p.default.createElement("iframe",{src:this.props.src,style:{width:"100%",height:"100%",border:"none",overflow:"auto"}})},t}(c.Component),o.contextTypes={width:p.default.PropTypes.number,height:p.default.PropTypes.number},a);t.default=g,e.exports=t.default},332:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,r=l(3),i=n(r),s=l(5),u=n(s),d=l(4),f=n(d),c=l(1),p=n(c),h=l(12),m=(n(h),a=o=function(e){function t(){return(0,i.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.render=function(){return p.default.createElement("div",{style:{width:"100%",height:"100%",border:"none",overflow:"auto",background:"url(upm/main/tab/img/main_bg.jpg) top center no-repeat",backgroundSize:"100% 100%"}})},t}(c.Component),o.contextTypes={width:p.default.PropTypes.number,height:p.default.PropTypes.number},a);t.default=m,e.exports=t.default},429:16,430:16,444:16});