webpackJsonp([7],{0:function(e,t,a){e.exports=a(344)},342:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function u(e){function t(e){n.validateFields(function(e,t){e||u({type:"saveOrg",params:t})})}function a(){n.resetFields()}function l(){u({type:"closeOrgModal"})}var u=e.dispatch,n=e.form,r=e.visible,i=e.loading,o=e.isNew,s=e.editData,m=e.orgType,g=n.getFieldDecorator,v={labelCol:{span:8},wrapperCol:{span:14},style:{marginBottom:5}},b={labelCol:{span:4},wrapperCol:{span:19},style:{marginBottom:5}},T=o?"\u65b0\u589e\u673a\u6784":"\u7f16\u8f91\u673a\u6784";return h.default.createElement(d.default,{title:T,okText:"\u4fdd\u5b58",cancelText:"\u8fd4\u56de",visible:r,width:700,afterClose:a,confirmLoading:i,onOk:function(e){return t()},onCancel:function(){return l()}},h.default.createElement(O.default,null,g("id",{initialValue:s.id})(h.default.createElement(y.default,{type:"hidden"})),h.default.createElement(f.default,null,h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u673a\u6784\u540d\u79f0"}),g("name",{initialValue:s.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u6784\u540d\u79f0\uff01"}]})(h.default.createElement(y.default,{autoComplete:"off"})))),h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u673a\u6784\u5168\u79f0"}),g("fullName",{initialValue:s.fullName})(h.default.createElement(y.default,{autoComplete:"off"}))))),h.default.createElement(f.default,null,h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u673a\u6784\u4ee3\u7801"}),g("code",{initialValue:s.code})(h.default.createElement(y.default,{autoComplete:"off"})))),h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u673a\u6784\u7c7b\u578b"}),g("type",{initialValue:s.type})(h.default.createElement(E.default,null,m.map(function(e,t){if(e.code)return h.default.createElement(E.default.Option,{key:e.code,value:e.code},e.value)})))))),h.default.createElement(f.default,null,h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u90ae\u653f\u7f16\u7801"}),g("zipCode",{initialValue:s.zipCode})(h.default.createElement(y.default,{autoComplete:"off"})))),h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u8054\u7cfb\u7535\u8bdd"}),g("tel",{initialValue:s.tel})(h.default.createElement(y.default,{autoComplete:"off"}))))),h.default.createElement(f.default,null,h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u4f20\u771f"}),g("tax",{initialValue:s.tax})(h.default.createElement(y.default,{autoComplete:"off"})))),h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"email"}),g("email",{initialValue:s.email,rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6709\u6548\u683c\u5f0f\u7684\u7535\u5b50\u90ae\u7bb1!"}]})(h.default.createElement(y.default,{autoComplete:"off"}))))),h.default.createElement(f.default,null,h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u8054\u7cfb\u4eba"}),g("contacter",{initialValue:s.contacter})(h.default.createElement(y.default,{autoComplete:"off"})))),h.default.createElement(c.default,{span:12},h.default.createElement(C,(0,p.default)({},v,{label:"\u5f53\u524d\u72b6\u6001"}),g("status",{initialValue:s.status})(h.default.createElement(E.default,null,h.default.createElement(E.default.Option,{key:"1",value:"1"},"\u542f\u7528"),h.default.createElement(E.default.Option,{key:"0",value:"0"},"\u505c\u7528")))))),h.default.createElement(f.default,null,h.default.createElement(c.default,{span:24},h.default.createElement(C,(0,p.default)({},b,{label:"\u901a\u8baf\u5730\u5740"}),g("addr",{initialValue:s.addr})(h.default.createElement(y.default,{autoComplete:"off"}))))),h.default.createElement(f.default,null,h.default.createElement(c.default,{span:24},h.default.createElement(C,(0,p.default)({},b,{label:"\u673a\u6784\u63cf\u8ff0"}),g("remark",{initialValue:s.remark})(h.default.createElement(y.default,{type:"textarea",autosize:!0,autoComplete:"off"})))))))}function n(e){return{visible:e.visible,loading:e.loading,isNew:e.isNew,editData:e.editData,orgType:e.orgType}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(21),d=l(r),i=a(89),f=l(i),o=a(87),c=l(o),s=a(2),p=l(s),m=a(23),y=l(m),g=a(71),E=l(g),v=a(34),O=l(v);a(22),a(90),a(88),a(20),a(91),a(35);var b=a(1),h=l(b),T=a(15),C=O.default.Item;E.default.Option;t.default=(0,T.connect)(n)(O.default.create()(u)),e.exports=t.default},343:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.dispatch,a=e.dataSource,l=[{title:"\u673a\u6784\u7b80\u79f0",dataIndex:"name",key:"name",width:250},{title:"\u673a\u6784\u4ee3\u7801",dataIndex:"code",key:"code",width:200},{title:"\u673a\u6784\u63cf\u8ff0",dataIndex:"remark",key:"remark",width:350},{title:"\u673a\u6784\u7c7b\u578b",dataIndex:"typeName",key:"typeName",width:350},{title:"\u64cd\u4f5c",width:100,render:function(e,a,l){var u=a.isFixed?"disabled":null;return E.default.createElement("span",null,E.default.createElement(c.default,{title:"\u4fee\u6539",onClick:function(){return t({type:"openOrgModal",params:{isNew:!1,editData:a}})},size:"small",type:"ghost",shape:"circle",icon:"edit",disabled:u}),"\xa0\xa0",E.default.createElement(c.default,{title:"\u5220\u9664",onClick:function(){return t({type:"deleteOrg",params:a})},size:"small",type:"ghost",shape:"circle",icon:"close",disabled:u}))}.bind(this)}];E.default.createElement(f.default,{onChange:function(e){return t({type:"onCascadeCheck",params:{cascade:e.target.checked}})}},"\u7ea7\u8054\u663e\u793a");return E.default.createElement(y.default,{style:{height:"100%",background:"#fff"}},E.default.createElement(C,{style:{width:250,background:"#fff",overflow:"auto",borderRight:"1px solid #e9e9e9"}},E.default.createElement(b.default,null)),E.default.createElement(w,null,E.default.createElement(y.default,{style:{height:"100%",background:"#fff"}},E.default.createElement(k,{style:{height:"40px",lineHeight:"40px",background:"#fff",padding:"1px 10px",borderBottom:"1px solid #e9e9e9"}},E.default.createElement("div",null,E.default.createElement(c.default,{type:"primary",icon:"plus",onClick:function(){return t({type:"openOrgModal",params:{isNew:!0,editData:{}}})}},"\u65b0\u589e"),E.default.createElement("div",{style:{float:"right",paddingBottom:3}},E.default.createElement(_,{placeholder:"\u673a\u6784\u540d\u79f0",style:{width:200},onSearch:function(e){return t({type:"queryOrgByName",params:{name:e}})}})))),E.default.createElement(w,{style:{overflow:"auto"}},E.default.createElement(d.default,{rowKey:"id",size:"middle",bordered:!0,dataSource:a,columns:l,pagination:!1}),E.default.createElement(T.default,null)))))}function n(e){return{dataSource:e.dataSource}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(59),d=l(r),i=a(46),f=l(i),o=a(25),c=l(o),s=a(23),p=l(s),m=a(47),y=l(m);a(60),a(70),a(28),a(20),a(48);var g=a(1),E=l(g),v=a(15);a(44);var O=a(116),b=l(O),h=a(342),T=l(h),C=y.default.Sider,k=y.default.Header,w=y.default.Content,_=p.default.Search;t.default=(0,v.connect)(n)(u),e.exports=t.default},344:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var u=a(15),n=a(345),r=l(n),d=a(343),i=l(d),f=new u.stateContainer;f.model(r.default),f.debug(!0),f.ready(function(e){e({type:"initTreeData"}),e({type:"initOrgType"})}),f.start(i.default,"root")},345:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),r=u(n),d=a(346),i=l(d);t.default={namespace:"org",state:{loading:!1,visible:!1,isNew:!0,editData:{},orgType:[],cascade:!1,orgTreeData:[],dataSource:[]},reducers:{initTreeData:function(e){var t=e.put,a=e.dispatch;i.initOrgTree(t,a)},initOrgType:function(e){var t=e.put;i.initOrgType(t)},onOrgTreeSelect:function(e){var t=e.state,a=e.params,l=e.put;i.queryOrg(a.selectTreeKey,t.cascade,l)},onCascadeCheck:function(e){var t=e.state,a=e.params,l=e.put;i.queryOrg(t.selectTreeKey,a.cascade,l)},openOrgModal:function(e){var t=e.params;return(0,r.default)({},t,{visible:!0})},closeOrgModal:function(e){e.params;return{visible:!1}},saveOrg:function(e){var t=e.state,a=e.params,l=e.put,u=e.dispatch;i.saveOrg(t,a,l,u)},deleteOrg:function(e){var t=e.params,a=e.dispatch;i.deleteOrg(t,a)},queryOrgByName:function(e){var t=e.params,a=e.put;i.queryOrgByName(t,a)}}},e.exports=t.default},346:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){g.request.post("queryOrgTree.do",function(a){var l=null;a&&a.length>0&&(l=a[0].id),e({orgTreeData:a,selectTreeKey:l}),t({type:"onOrgTreeSelect",params:{selectTreeKey:l}})})}function n(e){g.request.post("../dict/queryDict.do",{key:"org_type"},function(t){e({orgType:t})})}function r(e,t,a){g.request.get("queryOrg.do",{id:e,cascade:t},function(l){a({selectTreeKey:e,cascade:t,dataSource:l})})}function d(e,t,a,l){e.isNew?(a({loading:!0}),g.request.post("insertOrg.do",(0,p.default)({},t,{parentId:e.selectTreeKey}),function(){a({loading:!1,visible:!1}),l({type:"initTreeData"}),c.default.success("\u65b0\u5efa\u673a\u6784\u6210\u529f\uff01")},function(e){a({loading:!1}),c.default.success("\u4fdd\u5b58\u673a\u6784\u53d1\u751f\u9519\u8bef\uff01")})):g.request.post("updateOrg.do",t,function(){a({loading:!1,visible:!1}),l({type:"initTreeData"}),c.default.success("\u4fee\u6539\u673a\u6784\u6210\u529f\uff01")},function(e){a({loading:!1}),c.default.success("\u4fee\u6539\u673a\u6784\u53d1\u751f\u9519\u8bef\uff01")})}function i(e,t){E({title:"\u786e\u8ba4\u5220\u9664\u8fd9\u6761\u8bb0\u5f55\u5417\uff1f",onOk:function(){g.request.post("delOrg.do",{id:e.id},function(){t({type:"initTreeData"}),c.default.success("\u5220\u9664\u673a\u6784\u6210\u529f\uff01")})}})}function f(e,t){g.request.post("queryOrgByName.do",e,function(e){t({dataSource:e})})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(29),c=l(o),s=a(2),p=l(s),m=a(21),y=l(m);t.initOrgTree=u,t.initOrgType=n,t.queryOrg=r,t.saveOrg=d,t.deleteOrg=i,t.queryOrgByName=f,a(31),a(22);var g=a(15),E=y.default.confirm}});